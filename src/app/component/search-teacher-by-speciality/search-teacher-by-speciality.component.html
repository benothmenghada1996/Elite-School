<div class="site-section ">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center mt-2">
          <div class="widget-next-match">
            <div class="container-xxl py-5 justify-content-center mb-3">
                <div class="container">
                    <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
                        <h6 class="section-title bg-white text-center text-primary px-3">Search</h6>
                        <h1 class="mb-5">Search Teacher</h1>
                    </div>
                    <div class="row g-4">
                        <div class="col-lg-6 col-md-6 " data-wow-delay="0.5s" style="margin-left: 25%;">
                            <form #searchTeacherForm="ngForm" (ngSubmit)="search()">
                                <div class="row g-3">
                                    <div class="col-md-12">
                                        <label style="margin-left: -80%; margin-bottom: 20px; font-weight: bold ;">Speciality</label> 
                                        <div class="form-floating">
                                            <input type="text" class="form-control" [(ngModel)]="teacher.speciality"
                                            [ngModelOptions]="{standalone:true}" #speciality="ngModel"
                                            class="form-control p-4"
                                            [ngClass]="{'is-invalid': searchTeacherForm.submitted && speciality.invalid}"
                                            minlength="4" required>
                                        </div>
                                        <div *ngIf="searchTeacherForm.submitted && speciality.invalid" class="invalidfeedback">
                                            <div *ngIf="speciality.errors.required" style="color: red;">Speciality is required</div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <button class="btn btn-primary w-100 py-3 mt-2" type="submit">OK</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8" style="margin-left: 16%;">
              <table class="table custom-table" *ngIf="teachersTab.length > 0 ">
                <thead>
                  <tr>
                    <th>Teacher Name</th>
                    <th>Tel</th>
                    <th>Email</th>
                    <th>Adress</th>
                    <th>Courses</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let teacher of teachersTab">
                    <td>{{teacher.firstName}} {{teacher.lastName}}</td>
                    <td>{{teacher.tel}}</td>
                    <td>{{teacher.email}}</td>
                    <td>{{teacher.adress}}</td>
                    <td>
                      <!-- Using ngFor to iterate through each course for the current teacher -->
                      <span *ngFor="let course of teacher.courses">
                        {{course.name}}<br>
                      </span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
              <strong *ngIf="teachersTab==0 && teachersTab.length !== undefined">
                  Teacher Not Found
              </strong>
          </div>
        </div>
      </div>
    </div>
</div>